---
layout:     post
title:      JDK常用工具的使用
date:       2019-06-07
author:     cyf
header-img: img/beautiful.jpg
catalog: true
tags:
    - Java
    - JVM
---

# 一、常用命令
- jps：查看本机java进程信息
- jstack：打印线程的栈信息，制作线程dump文件
- jmap：打印内存映射，制作堆dump文件
- jstat：性能监控工具
- jhat：内存分析工具
- jconsole：简易的可视化控制台
- jvisualvm：功能强大的控制台

# jps
# jstat的使用
## 语法
```
jstat -help|-options
jstat -<option> [-t] [-h<lines>] <vmid> [<interval> [<count>]]
```
- options
```
cyf@KobeBryant:~$ jstat -options
-class
-compiler
-gc
-gccapacity
-gccause
-gcmetacapacity
-gcnew
-gcnewcapacity
-gcold
-gcoldcapacity
-gcutil
-printcompilation
```
- vmid：java进程id
- interval：间隔时间单位毫秒
- count：打印次数
## 示例(常用)
1、jstat -gc
```
shell> jstat -gc 1 1000 20
S0C     S1C     S0U      S1U   EC        EU        OC         OU        MC       MU       CCSC    CCSU        YGC   YGCT    FGC    FGCT     GCT   
58368.0 67584.0 55453.0  0.0   1223168.0 313829.3  355840.0   182657.2  127564.0 121457.8 17524.0 16203.1     20    0.303   4      0.334    0.636
58368.0 67584.0 55453.0  0.0   1223168.0 316053.3  355840.0   182657.2  127564.0 121457.8 17524.0 16203.1     20    0.303   4      0.334    0.636
```
- S0C:年轻代第一个survivor的容量（字节）
- S1C：年轻代第二个survivor的容量（字节）
- S0U：年轻代第一个survivor已使用的容量（字节）
- S1U：年轻代第二个survivor已使用的容量（字节）
- EC：年轻代中Eden的空间（字节）
- EU：年代代中Eden已使用的空间（字节）
- OC：老年代的容量（字节）
- OU:老年代中已使用的空间（字节）
- PC：永久代的容量
- PU：永久代已使用的容量
- YGC：从应用程序启动到采样时年轻代中GC的次数
- YGCT:从应用程序启动到采样时年轻代中GC所使用的时间（单位：S）
- FGC：从应用程序启动到采样时老年代中GC（FULL GC）的次数
- FGCT：从应用程序启动到采样时老年代中GC所使用的时间（单位：S）

2、jstat -gcutil
```
shell> jstat -gcutil 1 1000 10
  S0    S1     E      O      M      CCS      YGC    YGCT      FGC  FGCT     GCT   
  0.00  17.90  57.75  90.56  94.28  91.54    559    3.421     6    0.488    3.909
  0.00  17.90  57.76  90.56  94.28  91.54    559    3.421     6    0.488    3.909
```
- s0:年轻代中第一个survivor已使用的占当前容量百分比
- s1:年轻代中第二个survivor已使用的占当前容量百分比
- E:年轻代中Eden已使用的占当前容量百分比
- O:老年代中已使用的占当前容量百分比
- P:永久代中已使用的占当前容量百分比